{"version":3,"sources":["app/jsx/views/Accounts/Groups.jsx"],"names":[],"mappings":";;;;AAIA,YAAY,CAAC;;;;;;;;qBAIK,OAAO;;;;gCAEN,yBAAyB;;;;0CAEf,mCAAmC;;;;iCACxC,0BAA0B;;;;yCAEtB,kCAAkC;;;;gCACvC,yBAAyB;;;;AAVhD,IAAI,iBAAiB,GAAG,QAAQ,CAAC;;AAYjC,IAAI,QAAQ,GAAG;AACX,QAAM,EAAM,OAAO,CAAC,mDAAmD,CAAC,CAAC,CAAC,CAAC;AAC3E,WAAS,EAAG,WAAW;AACvB,SAAO,EAAK;AACV,WAAO,EAAO,eAAe;AAC7B,WAAO,EAAO,SAAS;AACvB,eAAW,EAAG,WAAW;GAC5B;AACC,SAAO,EAAK;AACV,kBAAc,EAAK;AACjB,iBAAW,EAAG;AACV,YAAI,EAAO,cAAc;AACzB,gBAAQ,EAAG,EAAE,SAAS,EAAE,KAAK,EAAE;OAClC;AACD,aAAO,EAAO;AACV,YAAI,EAAO,wBAAwB;AACnC,gBAAQ,EAAG,EAAE,SAAS,EAAE,IAAI,EAAE;OACjC;KACF;AACD,iBAAa,EAAM,cAAc;AACjC,iBAAa,EAAM,kBAAkB;AACrC,kBAAc,EAAK,EAAG;AACtB,kBAAc,EAAK,EAAG;AACtB,iBAAa,EAAM,CAAE,aAAa,EAAE,SAAS,CAAE;AAC/C,iBAAa,EAAM,CAAE,aAAa,EAAE,SAAS,CAAE;AAC/C,oBAAgB,EAAG,EAAG;AAAA,GACzB;CACF,CAAC;;AAEF,SAAS,kBAAkB,GAAG;AAC5B,SAAO;AACL,cAAU,EAAG,+BAAY,YAAY,EAAE;GACxC,CAAC;CACH;;AAED,SAAS,iBAAiB,GAAG;AAC3B,SAAO;AACH,aAAS,EAAI,8BAAW,WAAW,EAAE;GACxC,CAAC;CACH;;AAED,IAAM,MAAM,GAAG,mBAAM,WAAW,CAAC;;;AAE7B,iBAAe,EAAE,2BAAY;AAC3B,WAAO,kBAAkB,EAAE,CAAC;GAC7B;;AAED,mBAAiB,EAAE,6BAAY;AAC7B,mCAAY,iBAAiB,CAAE,IAAI,CAAC,kBAAkB,CAAE,CAAC;AACzD,4CAAiB,iBAAiB,EAAE,CAAC;AACrC,4CAAiB,SAAS,CAAE,iBAAiB,CAAE,CAAC;;AAEhD,kCAAW,iBAAiB,CAAE,IAAI,CAAC,iBAAiB,CAAE,CAAC;AACvD,2CAAgB,gBAAgB,EAAE,CAAC;AACnC,2CAAgB,SAAS,CAAE,iBAAiB,CAAE,CAAC;GAChD;;AAED,sBAAoB,EAAE,gCAAY;AAChC,mCAAY,oBAAoB,CAAE,IAAI,CAAC,kBAAkB,CAAE,CAAC;AAC5D,4CAAiB,WAAW,CAAE,iBAAiB,CAAE,CAAC;;AAElD,kCAAW,oBAAoB,CAAE,IAAI,CAAC,iBAAiB,CAAE,CAAC;AAC1D,2CAAgB,WAAW,CAAE,iBAAiB,CAAE,CAAC;GAClD;;AAED,oBAAkB,EAAE,8BAAY;AAC9B,QAAI,CAAC,QAAQ,CAAE,kBAAkB,EAAE,CAAE,CAAC;GACvC;;AAED,mBAAiB,EAAE,6BAAY;AAC7B,QAAI,CAAC,QAAQ,CAAE,iBAAiB,EAAE,CAAE,CAAC;GACtC;;AAED,QAAM,EAAE,kBAAY;AAClB,WAAO,kEAAQ,MAAM,EAAS,QAAQ,AAAE;AACzB,eAAS,EAAM,IAAI,CAAC,KAAK,CAAC,UAAU,AAAE;AACtC,cAAQ,EAAO,QAAQ,AAAE,GAAG,CAAC;GAC7C;CACJ,CAAC,CAAC;;qBAEY,MAAM","file":"app/jsx/views/Accounts/Groups.jsx","sourcesContent":["// Groups\n// ======\n// Viewer for FreeNAS groups.\n\n\"use strict\";\n\nvar componentLongName = \"Groups\";\n\nimport React from \"react\";\n\nimport Viewer from \"../../components/Viewer\";\n\nimport GroupsMiddleware from \"../../middleware/GroupsMiddleware\";\nimport GroupsStore from \"../../stores/GroupsStore\";\n\nimport UsersMiddleware from \"../../middleware/UsersMiddleware\";\nimport UsersStore from \"../../stores/UsersStore\";\n\nvar viewData = {\n    format    : require(\"../../../data/middleware-keys/groups-display.json\")[0]\n  , addEntity : \"Add Group\"\n  , routing   : {\n      \"route\"     : \"groups-editor\"\n    , \"param\"     : \"groupID\"\n    , \"addentity\" : \"add-group\"\n  }\n  , display   : {\n      filterCriteria   : {\n        userCreated : {\n            name     : \"local groups\"\n          , testProp : { \"builtin\": false }\n        }\n      , builtIn     : {\n            name     : \"built-in system groups\"\n          , testProp : { \"builtin\": true }\n        }\n      }\n    , remainingName    : \"other groups\"\n    , ungroupedName    : \"all other groups\"\n    , allowedFilters   : [ ]\n    , defaultFilters   : [ ]\n    , allowedGroups    : [ \"userCreated\", \"builtIn\" ]\n    , defaultGroups    : [ \"userCreated\", \"builtIn\" ]\n    , defaultCollapsed : [ ] // TODO: Revert this to \"builtin\" once we have more \"userCreated\"\n  }\n};\n\nfunction getGroupsFromStore() {\n  return {\n    groupsList : GroupsStore.getAllGroups()\n  };\n}\n\nfunction getUsersStoreData() {\n  return {\n      usersList  : UsersStore.getAllUsers()\n  };\n}\n\nconst Groups = React.createClass({\n\n    getInitialState: function () {\n      return getGroupsFromStore();\n    }\n\n  , componentDidMount: function () {\n      GroupsStore.addChangeListener( this.handleGroupsChange );\n      GroupsMiddleware.requestGroupsList();\n      GroupsMiddleware.subscribe( componentLongName );\n\n      UsersStore.addChangeListener( this.handleUsersChange );\n      UsersMiddleware.requestUsersList();\n      UsersMiddleware.subscribe( componentLongName );\n    }\n\n  , componentWillUnmount: function () {\n      GroupsStore.removeChangeListener( this.handleGroupsChange );\n      GroupsMiddleware.unsubscribe( componentLongName );\n\n      UsersStore.removeChangeListener( this.handleUsersChange );\n      UsersMiddleware.unsubscribe( componentLongName );\n    }\n\n  , handleGroupsChange: function () {\n      this.setState( getGroupsFromStore() );\n    }\n\n  , handleUsersChange: function () {\n      this.setState( getUsersStoreData() );\n    }\n\n  , render: function () {\n      return <Viewer header     = { \"Groups\" }\n                     inputData  = { this.state.groupsList }\n                     viewData   = { viewData } />;\n    }\n});\n\nexport default Groups;\n"]}