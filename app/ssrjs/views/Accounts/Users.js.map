{"version":3,"sources":["app/jsx/views/Accounts/Users.jsx"],"names":[],"mappings":"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","file":"app/jsx/views/Accounts/Users.jsx","sourcesContent":["// Users\n// =====\n// Viewer for FreeNAS user accounts and built-in system users.\n\n\"use strict\";\n\nvar componentLongName = \"Users\";\n\nimport React from \"react\";\n\nimport Viewer from \"../../components/Viewer\";\n\nimport UsersMiddleware from \"../../middleware/UsersMiddleware\";\nimport UsersStore from \"../../stores/UsersStore\";\n\nimport GroupsMiddleware from \"../../middleware/GroupsMiddleware\";\nimport GroupsStore from \"../../stores/GroupsStore\";\n\nimport SessionStore from \"../../stores/SessionStore\";\n\nvar viewData = {\n    format    : require(\"../../../data/middleware-keys/users-display.json\")[0]\n  , addEntity : \"Add User\"\n  , routing   : {\n      \"route\"      : \"users-editor\"\n    , \"param\"      : \"userID\"\n    , \"addentity\"  : \"add-user\"\n  }\n  , display   : {\n      filterCriteria: {\n          current: {\n              name     : \"current user account\"\n            , testProp : function(user){ return user.username === SessionStore.getCurrentUser(); }\n          }\n        , userCreated: {\n              name     : \"local user accounts\"\n            , testProp : { \"builtin\": false }\n          }\n        , builtIn: {\n              name     : \"built-in system accounts\"\n            , testProp : { \"builtin\": true }\n          }\n      }\n    , remainingName    : \"other user accounts\"\n    , ungroupedName    : \"all user accounts\"\n    , allowedFilters   : [ ]\n    , defaultFilters   : [ ]\n    , allowedGroups    : [ \"current\", \"userCreated\", \"builtIn\" ]\n    , defaultGroups    : [ \"current\", \"userCreated\", \"builtIn\" ]\n    , defaultCollapsed : [ ]\n  }\n};\n\nfunction getUsersStoreData() {\n  return {\n      usersList  : UsersStore.getAllUsers()\n  };\n}\n\nfunction getGroupsFromStore() {\n  return {\n    groupsList : GroupsStore.getAllGroups()\n  };\n}\n\nconst Users = React.createClass({\n\n    getInitialState: function () {\n      return getUsersStoreData();\n    }\n\n  , componentDidMount: function () {\n      UsersStore.addChangeListener( this.handleUsersChange );\n      UsersMiddleware.requestUsersList();\n      UsersMiddleware.subscribe( componentLongName );\n\n      GroupsStore.addChangeListener( this.handleGroupsChange );\n      GroupsMiddleware.requestGroupsList();\n      GroupsMiddleware.subscribe( componentLongName );\n    }\n\n  , componentWillUnmount: function () {\n      UsersStore.removeChangeListener( this.handleUsersChange );\n      UsersMiddleware.unsubscribe( componentLongName );\n\n      GroupsStore.removeChangeListener( this.handleGroupsChange );\n      GroupsMiddleware.unsubscribe( componentLongName );\n    }\n\n  , handleGroupsChange: function () {\n      this.setState( getGroupsFromStore() );\n    }\n\n  , handleUsersChange: function () {\n      this.setState( getUsersStoreData() );\n    }\n\n  , render: function () {\n      return <Viewer\n                header    = { \"Users\" }\n                inputData = { this.state.usersList }\n                viewData  = { viewData } />;\n    }\n\n});\n\nexport default Users;\n"]}