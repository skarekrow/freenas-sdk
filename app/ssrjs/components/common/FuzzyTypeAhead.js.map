{"version":3,"sources":["app/jsx/components/common/FuzzyTypeAhead.jsx"],"names":[],"mappings":"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","file":"app/jsx/components/common/FuzzyTypeAhead.jsx","sourcesContent":["// Copyright (c) 2013, Peter Ruibal <ruibalp@gmail.com>\n\n// Permission to use, copy, modify, and/or distribute this software for any\n// purpose with or without fee is hereby granted, provided that the above\n// copyright notice and this permission notice appear in all copies.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n// REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n// AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n// INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n// LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n// OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n// PERFORMANCE OF THIS SOFTWARE.\n//\n// Generic Fuzzy Search TypeAhead React Component\n// ===============================\n// Taken (and Modified) from : https://github.com/fmoo/react-typeahead\n\n\"use strict\";\n\nimport React from \"react\";\nimport fuzzy from \"fuzzy\";\nimport classNames from \"classnames\";\nimport TWBS from \"react-bootstrap\";\n/**\n * PolyFills make me(The author Peter Ruibal) sad\n */\nvar KeyEvent = KeyEvent || {};\nKeyEvent.DOM_VK_UP = KeyEvent.DOM_VK_UP || 38;\nKeyEvent.DOM_VK_DOWN = KeyEvent.DOM_VK_DOWN || 40;\nKeyEvent.DOM_VK_BACK_SPACE = KeyEvent.DOM_VK_BACK_SPACE || 8;\nKeyEvent.DOM_VK_RETURN = KeyEvent.DOM_VK_RETURN || 13;\nKeyEvent.DOM_VK_ENTER = KeyEvent.DOM_VK_ENTER || 14;\nKeyEvent.DOM_VK_ESCAPE = KeyEvent.DOM_VK_ESCAPE || 27;\nKeyEvent.DOM_VK_TAB = KeyEvent.DOM_VK_TAB || 9;\n\n/**\n * A single option within the TypeaheadSelector\n */\nvar TypeaheadOption = React.createClass(\n\n  { propTypes: { customClasses: React.PropTypes.object\n               , customValue: React.PropTypes.string\n               , onClick: React.PropTypes.func\n               , children: React.PropTypes.string\n               , hover: React.PropTypes.bool\n    }\n\n  , getDefaultProps: function ( ) {\n      return { customClasses: {}\n             , onClick: function ( event ) {\n          event.preventDefault();\n        }\n      };\n    }\n\n  , getInitialState: function ( ) {\n      return {};\n    }\n\n  , _onClick: function ( event ) {\n      event.preventDefault();\n      return this.props.onClick( event );\n    }\n\n  , _getClasses: function ( ) {\n      var classes = {\n        \"typeahead-option\": true\n      };\n      classes[this.props.customClasses.listAnchor] =\n        !!this.props.customClasses.listAnchor;\n\n      return classNames( classes );\n    }\n\n  , render: function ( ) {\n      var classes = {};\n      classes[this.props.customClasses.hover || \"hover\"] = !!this.props.hover;\n      classes[this.props.customClasses.listItem] =\n        !!this.props.customClasses.listItem;\n\n      if ( this.props.customValue ) {\n        classes[this.props.customClasses.customAdd] =\n          !!this.props.customClasses.customAdd;\n      }\n\n      var classList = classNames( classes );\n\n      return (\n        <li className={ classList } onClick={ this._onClick }>\n          <a href=\"javascript: void 0;\"\n             className={ this._getClasses() } ref=\"anchor\">\n            { this.props.children }\n          </a>\n        </li>\n      );\n    }\n  }\n);\n\n\n/**\n * Container for the options rendered as part of the autocompletion process\n * of the typeahead\n */\nvar TypeaheadSelector = React.createClass(\n  { propTypes: { options: React.PropTypes.array\n               , customClasses: React.PropTypes.object\n               , customValue: React.PropTypes.string\n               , selectionIndex: React.PropTypes.number\n               , onOptionSelected: React.PropTypes.func\n    }\n\n  , getDefaultProps: function ( ) {\n      return { selectionIndex: null\n             , customClasses: {}\n             , customValue: null\n             , onOptionSelected: function ( option ) { }\n      };\n    }\n\n  , getInitialState: function ( ) {\n      return { selectionIndex: this.props.selectionIndex\n             , selection: this.getSelectionForIndex( this.props.selectionIndex )\n      };\n    }\n\n  , setSelectionIndex: function ( index ) {\n      this.setState({ selectionIndex: index\n                    , selection: this.getSelectionForIndex( index )\n      });\n    }\n\n  , getSelectionForIndex: function ( index ) {\n      if ( index === null ) {\n        return null;\n      }\n      if ( index === 0 && this.props.customValue !== null ) {\n        return this.props.customValue;\n      }\n\n      if ( this.props.customValue !== null ) {\n        index -= 1;\n      }\n\n      return this.props.options[index];\n    }\n\n  , _onClick: function ( result, event ) {\n      return this.props.onOptionSelected( result, event );\n    }\n\n  , _nav: function ( delta ) {\n      if ( !this.props.options && this.props.customValue === null ) {\n        return;\n      }\n      var newIndex = this.state.selectionIndex === null ?\n        ( delta === 1 ?\n            0 : delta ) : this.state.selectionIndex + delta;\n      var length = this.props.options.length;\n      if ( this.props.customValue !== null ) {\n        length += 1;\n      }\n\n      if ( newIndex < 0 ) {\n        newIndex += length;\n      } else if ( newIndex >= length ) {\n        newIndex -= length;\n      }\n\n      var newSelection = this.getSelectionForIndex( newIndex );\n      this.setState({ selectionIndex: newIndex\n                    , selection: newSelection });\n    }\n\n  , navDown: function ( ) { this._nav( 1 ); }\n\n  , navUp: function ( ) { this._nav( -1 ); }\n\n  , render: function ( ) {\n      var classes = { \"typeahead-selector\": true };\n      classes[this.props.customClasses.results] =\n        this.props.customClasses.results;\n      var classList = classNames( classes );\n\n      var results = [];\n      // CustomValue should be added to top of results\n      // list with different class name\n      if ( this.props.customValue !== null ) {\n        results.push(\n          <TypeaheadOption ref={this.props.customValue}\n                           key={this.props.customValue}\n                           hover={this.state.selectionIndex === results.length}\n                           customClasses={this.props.customClasses}\n                           customValue={this.props.customValue}\n                           onClick={\n                             this._onClick.bind( this\n                                               , this.props.customValue ) }>\n            { this.props.customValue }\n          </TypeaheadOption> );\n      }\n\n      this.props.options.forEach( function ( result, i ) {\n        results.push(\n          <TypeaheadOption\n            ref={ result } key={ result }\n            hover={ this.state.selectionIndex === results.length }\n            customClasses={ this.props.customClasses }\n            onClick={ this._onClick.bind( this, result ) }>\n            { result }\n          </TypeaheadOption>\n        );\n      }, this );\n\n      return <ul className={classList}>{ results }</ul>;\n    }\n\n  }\n);\n\n\n/**\n * A \"typeahead\", an auto-completing text input\n *\n * Renders an text input that shows options nearby that you can use the\n * keyboard or mouse to select.  Requires CSS for MASSIVE DAMAGE.\n */\nvar FuzzyTypeAhead = React.createClass(\n\n  { propTypes: { name              : React.PropTypes.string\n               , customClasses     : React.PropTypes.object\n               , maxVisible        : React.PropTypes.number\n               , options           : React.PropTypes.array\n               , allowCustomValues : React.PropTypes.number\n               , defaultValue      : React.PropTypes.string\n               , placeholder       : React.PropTypes.string\n               , onOptionSelected  : React.PropTypes.func\n               , onKeyDown         : React.PropTypes.func\n               , filterOption      : React.PropTypes.func\n    }\n\n  , getDefaultProps: function ( ) {\n      return { options           : []\n             , customClasses     : {}\n             , allowCustomValues : 0\n             , defaultValue      : \"\"\n             , placeholder       : \"\"\n             , onOptionSelected  : function ( option ) {}\n             , onKeyDown         : function ( event ) {}\n             , filterOption      : null\n      };\n    }\n\n  , getInitialState: function ( ) {\n      return { visible: this.getOptionsForValue( this.props.defaultValue\n                                        , this.props.options )\n               // ^^ The currently visible set of options\n             , entryValue: this.props.defaultValue\n               // ^^ This should be called something else, \"entryValue\"\n             , selection: null\n               // ^^ A valid typeahead value\n      };\n    }\n\n  , getOptionsForValue: function ( value, options ) {\n      var result;\n      if ( this.props.filterOption ) {\n        result = options.filter( ( function ( o ) {\n          return this.props.filterOption( value, o ); }).bind( this ) );\n      } else {\n        result = fuzzy.filter( value, options ).map( function ( res ) {\n          return res.string;\n        });\n      }\n      if ( this.props.maxVisible ) {\n        result = result.slice( 0, this.props.maxVisible );\n      }\n      return result;\n    }\n\n  , _hasCustomValue: function ( ) {\n      if ( this.props.allowCustomValues > 0 &&\n           this.state.entryValue.length >= this.props.allowCustomValues &&\n           this.state.visible.indexOf( this.state.entryValue ) < 0 ) {\n        return true;\n      }\n      return false;\n    }\n\n  , _getCustomValue: function ( ) {\n      if ( this._hasCustomValue() ) {\n        return this.state.entryValue;\n      }\n      return null;\n    }\n\n  , _renderIncrementalSearchResults: function ( ) {\n    // Nothing has been entered into the textbox\n    if ( !this.state.entryValue ) {\n      return \"\";\n    }\n\n    // Something was just selected\n    if ( this.state.selection ) {\n      return \"\";\n    }\n\n    // There are no typeahead / autocomplete suggestions\n    if ( !this.state.visible.length && !( this.props.allowCustomValues > 0 ) ) {\n      return \"\";\n    }\n\n    // There is only one typeahead result and it matches the entryValue\n    // (mathces in the sense that it exactly matches and not fuzzy! )\n    // In this case we would not want the typeahead to show anymore!\n    if ( this.state.visible.length === 1 &&\n         this.state.visible[0] === this.state.entryValue ) {\n      return \"\";\n    }\n\n    if ( this._hasCustomValue() ) {\n      return (\n        <TypeaheadSelector\n          ref=\"sel\" options={this.state.visible}\n          customValue={this.state.entryValue}\n          onOptionSelected={this._onOptionSelected}\n          customClasses={this.props.customClasses} />\n      );\n    }\n\n    return (\n      <TypeaheadSelector\n        ref=\"sel\" options={ this.state.visible }\n        onOptionSelected={ this._onOptionSelected }\n        customClasses={this.props.customClasses} />\n   );\n  }\n\n  , _onOptionSelected: function ( option, event ) {\n      let nEntry = React.findDOMNode( this.refs.entry );\n      nEntry.focus();\n      nEntry.value = option;\n      this.setState({ visible: this.getOptionsForValue( option\n                                                      , this.props.options )\n                    , selection: option\n                    , entryValue: option });\n      return this.props.onOptionSelected( option, event );\n    }\n\n  , _onTextEntryUpdated: function ( event ) {\n      var value = event.target.value;\n      this.setState({ visible    : this.getOptionsForValue( value\n                                                          , this.props.options )\n                    , selection  : null\n                    , entryValue : value});\n    }\n\n  , _onEnter: function ( event ) {\n      if ( !this.refs.sel.state.selection ) {\n        return this.props.onKeyDown( event );\n      }\n      return this._onOptionSelected( this.refs.sel.state.selection, event );\n    }\n\n  , _onEscape: function ( ) {\n      this.refs.sel.setSelectionIndex( null );\n    }\n\n  , _onTab: function ( event ) {\n      var option = this.refs.sel.state.selection ?\n        this.refs.sel.state.selection : ( this.state.visible.length > 0 ?\n                                            this.state.visible[0] : null );\n\n      if ( option === null && this._hasCustomValue() ) {\n        option = this._getCustomValue();\n      }\n\n      if ( option !== null ) {\n        return this._onOptionSelected( option, event );\n      }\n    }\n\n  , eventMap: function ( event ) {\n      var events = {};\n\n      events[KeyEvent.DOM_VK_UP] = this.refs.sel.navUp;\n      events[KeyEvent.DOM_VK_DOWN] = this.refs.sel.navDown;\n      events[KeyEvent.DOM_VK_RETURN] = events[KeyEvent.DOM_VK_ENTER] =\n        this._onEnter;\n      events[KeyEvent.DOM_VK_ESCAPE] = this._onEscape;\n      events[KeyEvent.DOM_VK_TAB] = this._onTab;\n\n      return events;\n    }\n\n  , _onKeyDown: function ( event ) {\n      // If there are no visible elements, don't perform selector navigation.\n      // Just pass this up to the upstream onKeydown handler\n      if ( !this.refs.sel ) { return this.props.onKeyDown( event ); }\n\n      var handler = this.eventMap()[event.keyCode];\n\n      if ( handler ) {\n        handler( event );\n      } else {\n        return this.props.onKeyDown( event );\n      }\n      // Don't propagate the keystroke back to the DOM/browser\n      event.preventDefault();\n    }\n\n  , componentWillReceiveProps: function ( nextProps ) {\n      if ( nextProps.defaultValue !== this.props.defaultValue ) {\n        let value = nextProps.defaultValue;\n        this.setState({ entryValue : value\n                    , visible    : this.getOptionsForValue(\n                                    value, nextProps.options )\n      });\n      }\n    }\n\n  // Uncomment this if need be\n  // , componentDidUpdate: function ( prevProps, prevState ) {\n  //   }\n\n  , _renderHiddenInput: function ( ) {\n      if ( !this.props.name ) {\n        return null;\n      }\n\n      return (\n        <input\n          type=\"hidden\"\n          name={ this.props.name }\n          value={ this.state.selection }\n        />\n      );\n    }\n\n  , render: function ( ) {\n      var inputClasses = {};\n      inputClasses[this.props.customClasses.input] =\n        !!this.props.customClasses.input;\n      var inputClassList = classNames( inputClasses );\n\n      var classes = { typeahead: true };\n      classes[this.props.className] = !!this.props.className;\n      var classList = classNames( classes );\n\n      return (\n        <div className={classList}>\n          { this._renderHiddenInput() }\n          <TWBS.Input\n              ref          = \"entry\"\n              type         = \"text\"\n              placeholder  = { this.props.placeholder }\n              className    = { inputClassList }\n              value        = { this.state.entryValue }\n              onChange     = { this._onTextEntryUpdated }\n              onKeyDown    = { this._onKeyDown } />\n          { this._renderIncrementalSearchResults() }\n        </div>\n      );\n    }\n\n  }\n);\n\nmodule.exports = FuzzyTypeAhead;\n"]}