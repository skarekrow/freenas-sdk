{"version":3,"sources":["app/jsx/components/Widgets/MemoryUtil.jsx"],"names":[],"mappings":"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","file":"app/jsx/components/Widgets/MemoryUtil.jsx","sourcesContent":["\n\n\"use strict\";\n\nimport React from \"react\";\n\nimport SystemMiddleware from \"../../middleware/SystemMiddleware\";\nimport SystemStore from \"../../stores/SystemStore\";\n\nimport chartHandler from \"./mixins/chartHandler\";\n\nimport round from \"round\";\n\nvar statdResources = [\n    {\n      variable      : \"wiredData\"\n      , dataSource  : \"localhost.memory.memory-wired.value\"\n      , name        : \"Wired Memory\"\n      , color       : \"#f39400\"\n    }\n  , {\n      variable      : \"cacheData\"\n      , dataSource  : \"localhost.memory.memory-cache.value\"\n      , name        : \"Cached Memory\"\n      , color       : \"#8ac007\"\n    }\n  , {\n      variable      : \"activeData\"\n      , dataSource  : \"localhost.memory.memory-active.value\"\n      , name        : \"Active Memory\"\n      , color       : \"#c9d200\"\n    }\n  , {\n      variable      : \"freeData\"\n      , dataSource  : \"localhost.memory.memory-free.value\"\n      , name        : \"Free Memory\"\n      , color       : \"#5186ab\"\n    }\n  , {\n      variable      : \"inactiveData\"\n      , dataSource  : \"localhost.memory.memory-inactive.value\"\n      , name        : \"Inactive Memory\"\n      , color       : \"#b6d5e9\"\n    }\n];\n\nvar MemoryUtil = React.createClass({\n\n  mixins: [ chartHandler ]\n\n  , getInitialState: function () {\n      return {    hardware: SystemStore.getSystemInfo( \"hardware\" )\n                , statdResources : statdResources\n                , chartTypes : []\n                , widgetIdentifier : \"MemoryUtil\"\n\n             };\n    }\n\n  , componentDidMount: function () {\n      SystemStore.addChangeListener( this.handleChange );\n\n      SystemMiddleware.requestSystemInfo( \"hardware\" );\n    }\n\n  , componentWillUnmount: function () {\n      SystemStore.removeChangeListener( this.handleChange );\n    }\n\n  , primaryChart: function ( type ) {\n      if ( this.props.primary === undefined && type === \"line\" ) {\n        return true;\n      } else if ( type === this.props.primary ) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n  , handleChange: function () {\n      var newState = {};\n      newState.hardware = SystemStore.getSystemInfo( \"hardware\" );\n\n      if ( newState.hardware ) {\n\n        newState.chartTypes = [\n                                {\n                                  type    : \"stacked\"\n                                  , primary : this.primaryChart( \"stacked\" )\n                                  , y: function ( d ) {\n                                    return round( ( d[1] / 1024 ) / 1024, .01 );\n                                  }\n                                }\n                              , {\n                                  type    : \"line\"\n                                  , primary : this.primaryChart( \"line\" )\n                                  , forceY  : [ 0, 100 ]\n                                  , yUnit   : \"%\"\n                                  , y: function ( d ) {\n                                    return round( ( ( d[1] / newState.hardware[\"memory-size\"] ) * 100 ), 0.01 ); }.bind( this )\n                                }\n                              , {\n                                  type   : \"pie\"\n                                  , primary: this.primaryChart( \"pie\" )\n                                }\n                            ];\n\n        this.setState( newState );\n      }\n    }\n\n\n\n});\n\nmodule.exports = MemoryUtil;\n"]}