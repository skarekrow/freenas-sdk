{"version":3,"sources":["app/jsx/components/Widgets/NetworkUsage.jsx"],"names":[],"mappings":"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","file":"app/jsx/components/Widgets/NetworkUsage.jsx","sourcesContent":["\n\n\"use strict\";\n\nvar React   =   require( \"react\" );\n\nimport SystemMiddleware from \"../../middleware/SystemMiddleware\";\nimport SystemStore from \"../../stores/SystemStore\";\n\nimport chartHandler from \"./mixins/chartHandler\";\n\nimport round from \"round\";\n\nvar NetworkUsage = React.createClass({\n\n  mixins: [ chartHandler ]\n\n  , getInitialState: function () {\n   return {\n     network            : SystemStore.getSystemDevice( \"network\" )\n     , statdResources   : []\n     , chartTypes       : [\n                                  {   type: \"stacked\"\n                                    , primary: false\n                                    , y: function ( d ) {\n                                      return ( round( d[1] / 1024, 0.01 ) ); }\n                                  }\n                                , {   type: \"line\"\n                                    , primary: true\n                                    , y: function ( d ) {\n                                      return ( round( d[1] / 1024, 0.01 ) ); }\n                                    , yUnit : \"\"\n                                  }\n                                ]\n     , widgetIdentifier : \"NetworkUsage\"\n   };\n }\n  , componentDidMount: function () {\n    SystemStore.addChangeListener( this.handleChange );\n    SystemMiddleware.requestSystemDevice( \"network\" );\n  }\n\n  , componentWillUnmount: function () {\n    SystemStore.removeChangeListener( this.handleChange );\n  }\n\n  , handleChange: function () {\n    var newState = {};\n    newState.network  = SystemStore.getSystemDevice( \"network\" );\n\n    if ( newState.network ) {\n      var iface = newState.network[0][\"name\"];\n      newState.statdResources = [\n                                  {\n                                    variable: \"octetsRx\"\n                                    , dataSource: \"localhost.interface-\"\n                                                  + iface + \".if_octets.rx\"\n                                    , name: \"Data Receive (kB/s)\"\n                                    , color: \"#3C696E\"\n                                    , area: true\n                                  }\n                                , {\n                                    variable: \"octetsTx\"\n                                    , dataSource: \"localhost.interface-\"\n                                                  + iface + \".if_octets.tx\"\n                                    , name: \"Data Transmit  (kB/s)\"\n                                    , color: \"#368D97\"\n                                    , area: true\n                                  }\n                                , {\n                                    variable: \"packetsRx\"\n                                    , dataSource: \"localhost.interface-\"\n                                                  + iface + \".if_packets.rx\"\n                                    , name: \"Packets Receive\"\n                                    , color: \"#A8E077\"\n                                    , area: true\n                                  }\n                                , {\n                                    variable: \"packetsTx\"\n                                    , dataSource: \"localhost.interface-\"\n                                                  + iface + \".if_packets.tx\"\n                                    , name: \"Packets Transmit\"\n                                    , color: \"#D9E35D\"\n                                    , area: true\n                                  }\n                                , {\n                                    variable: \"errorsTx\"\n                                    , dataSource: \"localhost.interface-\"\n                                                  + iface + \".if_errors.rx\"\n                                    , name: \"Errors Receive\"\n                                    , color: \"#C9653A\"\n                                  }\n                                , {\n                                    variable: \"errorsRx\"\n                                    , dataSource: \"localhost.interface-\"\n                                                  + iface + \".if_errors.tx\"\n                                    , name: \"Errors Transmit\"\n                                    , color: \"#BE6F6F\"\n                                  }\n                                ];\n\n      this.setState( newState );\n    }\n  }\n\n});\n\n\nmodule.exports = NetworkUsage;\n"]}