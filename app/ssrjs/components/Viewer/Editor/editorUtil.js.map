{"version":3,"sources":["app/jsx/components/Viewer/Editor/editorUtil.jsx"],"names":[],"mappings":";;;;;AAKA,YAAY,CAAC;;;;sBAEC,QAAQ;;;;qBACJ,OAAO;;;;8BACR,iBAAiB;;;;8BAEb,uBAAuB;;;;AAE5C,IAAI,UAAU,GAAG,OAAO,CAAC;;AAEzB,UAAU,CAAC,aAAa,GAAG,mBAAM,WAAW,CAAC;;;AAEzC,WAAS,EAAE;AACP,gBAAY,EAAI,mBAAM,SAAS,CAAC,MAAM;AACtC,iBAAa,EAAG,mBAAM,SAAS,CAAC,MAAM;AACtC,gBAAY,EAAI,mBAAM,SAAS,CAAC,MAAM;AACtC,aAAS,EAAO,mBAAM,SAAS,CAAC,MAAM;GACzC;;AAED,iBAAe,EAAE,2BAAY;AAC3B,WAAO;AACH,kBAAY,EAAG,GAAG;AAClB,eAAS,EAAM,GAAG;KACrB,CAAC;GACH;;AAED,iBAAe,EAAE,2BAAY;AAC3B,WAAO,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;GAC7B;;AAED,oBAAkB,EAAE,4BAAU,SAAS,EAAE,SAAS,EAAG;;AAEnD,QAAI,OAAO,GAAG,CAAC,CAAC,SAAS,CAAC,YAAY,CAAC;AACvC,QAAI,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;;;AAGxC,QAAK,OAAO,KAAK,OAAO,EAAG;AACzB,UAAI,CAAC,uBAAuB,CAAE,OAAO,CAAE,CAAC;KACzC;GACF;;AAED,yBAAuB,EAAE,iCAAU,OAAO,EAAG;;;;AAI3C,QAAK,OAAO,EAAG;AACb,cAAQ,CAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,UAAU,EAAE,EACxC,QAAQ,EACR;AACI,gBAAQ,EAAG,IAAI,CAAC,KAAK,CAAC,YAAY;AAClC,eAAO,EAAI,MAAM;OACpB,CACF,CAAC;KACX,MAAM;AACL,cAAQ,CAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,UAAU,EAAE,EACxC,SAAS,EACT;AACI,gBAAQ,EAAG,IAAI,CAAC,KAAK,CAAC,YAAY;AAClC,aAAK,EAAM,IAAI,CAAC,KAAK,CAAC,SAAS;OAClC,CACF,CAAC;KACX;;AAED,QAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;;AAEnC,QAAI,CAAC,WAAW,GAAG,UAAU,CAAE,CAAA,YAAW;AACtC,UAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;KACrC,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,EACV,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,GAAG,CACvD,CAAC;GACH;;AAGD,QAAM,EAAE,kBAAY;AAClB,QAAI,OAAO,GAAG,IAAI,CAAC;;;AAGnB,QAAK,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,EAAG;AAC5D,aAAO,GACL;;UAAK,SAAS,EAAG,6CAA6C;AACzD,aAAG,EAAS,gBAAgB;AAC5B,eAAK,EAAQ,EAAE,OAAO,EAAE,CAAC,EAAE,AAAC;QAC/B;;;UACE;;;YAAM,IAAI,CAAC,KAAK,CAAC,YAAY,IAAI,OAAO;WAAO;UAC/C,gEAAU,OAAO,EAAG,IAAI,CAAC,KAAK,CAAC,aAAa,IAAI,SAAS,AAAE,GAAG;SAC1D;OACF,AACP,CAAC;KACH;;AAED,WAAO,OAAO,CAAC;GAChB;;CAEJ,CAAC,CAAC","file":"app/jsx/components/Viewer/Editor/editorUtil.jsx","sourcesContent":["// Editor Utilities\n// ================\n// A group of utility functions designed to make the creation of Editor/Viewer\n// templates simpler and more straightforward.\n\n\"use strict\";\n\nimport _ from \"lodash\";\nimport React from \"react\";\nimport TWBS from \"react-bootstrap\";\n\nimport Throbber from \"../../common/Throbber\";\n\nvar editorUtil = exports;\n\neditorUtil.updateOverlay = React.createClass({\n\n    propTypes: {\n        updateString  : React.PropTypes.string\n      , throbberStyle : React.PropTypes.string\n      , animDuration  : React.PropTypes.number\n      , animDelay     : React.PropTypes.number\n    }\n\n  , getDefaultProps: function () {\n      return {\n          animDuration : 250\n        , animDelay    : 600\n      };\n    }\n\n  , getInitialState: function () {\n      return { animating: false };\n    }\n\n  , componentDidUpdate: function( prevProps, prevState ) {\n      // Using !! performs boolean type coercion\n      var oldBool = !!prevProps.updateString;\n      var newBool = !!this.props.updateString;\n\n      // Functions as logical XOR to detect disparity between length states\n      if ( oldBool !== newBool ) {\n        this.updateOverlayVisibility( newBool );\n      }\n    }\n\n  , updateOverlayVisibility: function( newBool ) {\n      // If the new property had length, and the old one didn't (determined by\n      // XOR), we know that we're going from nothing to soemthing, so we fadein.\n      // The same holds true in the opposite case, causing a fadeout.\n      if ( newBool ) {\n        Velocity( this.refs[\"update-overlay\"].getDOMNode()\n                , \"fadeIn\"\n                , {\n                      duration : this.props.animDuration\n                    , display  : \"flex\"\n                  }\n                );\n      } else {\n        Velocity( this.refs[\"update-overlay\"].getDOMNode()\n                , \"fadeOut\"\n                , {\n                      duration : this.props.animDuration\n                    , delay    : this.props.animDelay\n                  }\n                );\n      }\n\n      this.setState({ animating: true });\n\n      this.animTimeout = setTimeout( function() {\n          this.setState({ animating: false });\n        }.bind(this)\n        , this.props.animDuration + this.props.animDelay + 250\n      );\n    }\n\n\n  , render: function () {\n      var overlay = null;\n\n      // Using !! performs boolean type coercion\n      if ( this.props.updateString.length || this.state.animating ) {\n        overlay = (\n          <div className = \"overlay overlay-light editor-update-overlay\"\n               ref       = \"update-overlay\"\n               style     = {{ opacity: 0 }} >\n            <div>\n              <h3>{ this.props.updateString || \"Done.\" }</h3>\n              <Throbber bsStyle={ this.props.throbberStyle || \"primary\" } />\n            </div>\n          </div>\n        );\n      }\n\n      return overlay;\n    }\n\n});"]}