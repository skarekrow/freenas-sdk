{"version":3,"sources":["app/jsx/components/mixins/userMixins.jsx"],"names":[],"mappings":";;;;AAIA,YAAY,CAAC;;;;sBAEC,QAAQ;;;;yCAEM,kCAAkC;;;;gCAEvC,yBAAyB;;;;yCACpB,kCAAkC;;;;AAE9D,MAAM,CAAC,OAAO,GAAG;;AAEb,mBAAiB,EAAE,6BAAY;AAC7B,2CAAgB,sBAAsB,CAAE,CAAA,UAAU,MAAM,EAAG;AACzD,UAAI,YAAY,GAAG,oBAAE,GAAG,CAAC,MAAM,EAAE,UAAU,KAAK,EAAE;AAChD,eAAS,EAAE,IAAI,EAAG,KAAK,EAAE,CACvB;OACH,EAAE,IAAI,CAAC,CAAC;;AAET,kBAAY,CAAC,IAAI,CAAE,EAAE,IAAI,EAAE,mBAAmB,EAAE,CAAE,CAAC;AACnD,UAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC,CAAC;KACzC,CAAA,CAAC,IAAI,CAAE,IAAI,CAAE,CAAE,CAAC;;AAEjB,kCAAW,iBAAiB,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;GACvD;;AAED,sBAAoB,EAAE,gCAAY;AAChC,kCAAW,oBAAoB,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;GAC1D;;AAED,oBAAkB,EAAE,8BAAY;AAC9B,QAAI,SAAS,GAAG,8BAAW,WAAW,EAAE,CAAC;AACzC,QAAI,CAAC,QAAQ,CAAE,EAAE,SAAS,EAAG,SAAS,EAAE,CAAE,CAAC;GAC5C;;;;AAAA,IAID,gBAAgB,EAAE,0BAAU,WAAW,EAAG;AACxC,QAAI,YAAY,GAAG,EAAE,CAAC;;AAEtB,gBAAY,GAAG,oBAAE,GAAG,CAAE,WAAW,EAAE,UAAU,KAAK,EAAE;AAClD,aAAO,oBAAE,QAAQ,CAAE,KAAK,CAAE,CAAC;KAC5B,EAAE,IAAI,CAAE,CAAC;;AAEV,WAAO,YAAY,CAAC;GACrB;;AAED,YAAU,EAAE,sBAAW;AACnB,2CAAgB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,kBAAkB,EAAE,CAAE,CAAC;GACjF;CACJ,CAAC","file":"app/jsx/components/mixins/userMixins.jsx","sourcesContent":["// User Editing Mixins\n// ===================\n// Various things that are needed for just about any view that will be editing users.\n\n\"use strict\";\n\nimport _ from \"lodash\";\n\nimport ShellMiddleware from \"../../middleware/ShellMiddleware\";\n\nimport UsersStore from \"../../stores/UsersStore\";\nimport UsersMiddleware from \"../../middleware/UsersMiddleware\";\n\nmodule.exports = {\n\n    componentDidMount: function () {\n      ShellMiddleware.requestAvailableShells( function( shells ) {\n        var systemShells = _.map(shells, function( shell ){\n          return ( { name : shell }\n          );\n        }, this);\n        // Manually add nologin\n        systemShells.push( { name: \"/usr/sbin/nologin\" } );\n        this.setState({ shells: systemShells });\n      }.bind( this ) );\n\n      UsersStore.addChangeListener(this.updateUsersInState);\n    }\n\n  , componentWillUnmount: function () {\n      UsersStore.removeChangeListener(this.updateUsersInState);\n    }\n\n  , updateUsersInState: function () {\n      var usersList = UsersStore.getAllUsers();\n      this.setState( { usersList : usersList } );\n    }\n\n    // Converts an array of strings into an array of integers. Intended solely\n    // for use when submitting groups lists to the middleware.\n  , parseGroupsArray: function( groupsArray ) {\n      var integerArray = [];\n\n      integerArray = _.map( groupsArray, function( group ){\n        return _.parseInt( group );\n      }, this );\n\n      return integerArray;\n    }\n\n  , deleteUser: function (){\n        UsersMiddleware.deleteUser(this.props.item[\"id\"], this.returnToViewerRoot() );\n    }\n};\n"]}