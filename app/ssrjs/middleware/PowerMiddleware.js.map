{"version":3,"sources":["app/jsx/middleware/PowerMiddleware.js"],"names":[],"mappings":";;;;;AAKA,YAAY,CAAC;;;;;;;;;;;;;;gCAEE,oBAAoB;;;;kCACV,sBAAsB;;;;;;uBAGzB,WAAW;;;;IAE3B,eAAe;WAAf,eAAe;0BAAf,eAAe;;;;;;;YAAf,eAAe;;eAAf,eAAe;;WAEF,mBAAE,WAAW,EAAG;AAC/B,oCAAG,SAAS,CAAE,CAAE,eAAe,EAAE,gBAAgB,CAAE,EAAE,WAAW,CAAE,CAAC;KACpE;;;WAEkB,qBAAE,WAAW,EAAG;AACjC,oCAAG,WAAW,CAAE,CAAE,eAAe,EAAE,gBAAgB,CAAE,EAAE,WAAW,CAAE,CAAC;KACtE;;;WAEc,kBAAG;AAChB,oCAAG,OAAO,CAAE,aAAa,EACb,CAAE,eAAe,EAAE,EAAE,CAAE,EACvB,SAAS,YAAY,GAAI;AACvB,sCAAgB,CAAE,MAAM,CAAE,CAAC;OAC5B,CACF,CAAC;KACb;;;WAEgB,oBAAG;AAClB,oCAAG,OAAO,CAAE,aAAa,EACb,CAAE,iBAAiB,EAAE,EAAE,CAAE,EACzB,SAAS,cAAc,GAAI;AACzB,sCAAgB,CAAE,MAAM,CAAE,CAAC;OAC5B,CACF,CAAC;KACb;;;SA1BG,eAAe;;;AA4BpB,CAAC;;qBAEa,eAAe","file":"app/jsx/middleware/PowerMiddleware.js","sourcesContent":["// Power Middleware\n// ================\n// Provides abstraction functions that queue systems tasks to the middleware\n// i.e. shutdown, reboot, etc\n\n\"use strict\";\n\nimport MC from \"./MiddlewareClient\";\nimport AbstractBase from \"./MiddlewareAbstract\";\n\n// Cookies!\nimport myCookies from \"./cookies\";\n\nclass PowerMiddleware extends AbstractBase {\n\n  static subscribe ( componentID ) {\n    MC.subscribe( [ \"power.changed\", \"update.changed\" ], componentID );\n  }\n\n  static unsubscribe ( componentID ) {\n    MC.unsubscribe( [ \"power.changed\", \"update.changed\" ], componentID );\n  }\n\n  static reboot  () {\n    MC.request( \"task.submit\"\n              , [ \"system.reboot\", \"\" ]\n              , function handleReboot () {\n                  myCookies.delete( \"auth\" );\n                }\n              );\n  }\n\n  static shutdown  () {\n    MC.request( \"task.submit\"\n              , [ \"system.shutdown\", \"\" ]\n              , function handleShutdown () {\n                  myCookies.delete( \"auth\" );\n                }\n              );\n  }\n\n};\n\nexport default PowerMiddleware;\n"]}