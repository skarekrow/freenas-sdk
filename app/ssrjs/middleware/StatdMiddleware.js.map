{"version":3,"sources":["app/jsx/middleware/StatdMiddleware.js"],"names":[],"mappings":";;;AAGA,YAAY,CAAC;;;;;;;;;;;;;;gCAEE,oBAAoB;;;;kCACV,sBAAsB;;;;0CAE/B,gCAAgC;;;;AAEhD,SAAS,iBAAiB,CAAG,UAAU,EAAG;AACxC,SAAO,QAAQ,GAAG,UAAU,GAAG,QAAQ,CAAC;CACzC,CAAC;;IAEI,eAAe;WAAf,eAAe;0BAAf,eAAe;;;;;;;YAAf,eAAe;;eAAf,eAAe;;WAEK,0BAAE,WAAW,EAAE,WAAW,EAAG;AACnD,oCAAG,SAAS,CAAE,WAAW,CAAC,GAAG,CAAE,iBAAiB,CAAE,EAAE,WAAW,CAAE,CAAC;KACnE;;;WAE2B,8BAAE,WAAW,EAAE,WAAW,EAAG;AACvD,oCAAG,WAAW,CAAE,WAAW,CAAC,GAAG,CAAE,iBAAiB,CAAE,EAAE,WAAW,CAAE,CAAC;KACrE;;;WAEwB,2BAAE,UAAU,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAG;AAChE,oCAAG,OAAO,CAAE,oBAAoB,EACpB,CAAE,UAAU,EACV,EAAE,KAAK,EAAE,SAAS;AAChB,WAAG,EAAE,OAAO;AACZ,iBAAS,EAAE,IAAI;OAChB,CACF,EACD,SAAS,gBAAgB,CAAG,aAAa,EAAG;AAC1C,gDAAI,iBAAiB,CAAE,aAAa,EAAE,UAAU,CAAE,CAAC;OACpD,CACF,CAAC;KACb;;;SAtBG,eAAe;;;AAwBpB,CAAC;;qBAEa,eAAe","file":"app/jsx/middleware/StatdMiddleware.js","sourcesContent":["// Widget Data Middleware\n// ===================\n\n\"use strict\";\n\nimport MC from \"./MiddlewareClient\";\nimport AbstractBase from \"./MiddlewareAbstract\";\n\nimport SAC from \"../actions/StatdActionCreators\";\n\nfunction createPulseSyntax ( dataSource ) {\n  return \"statd.\" + dataSource + \".pulse\";\n};\n\nclass StatdMiddleware extends AbstractBase {\n\n  static subscribeToPulse ( componentID, dataSources ) {\n    MC.subscribe( dataSources.map( createPulseSyntax ), componentID );\n  }\n\n  static unsubscribeFromPulse ( componentID, dataSources ) {\n    MC.unsubscribe( dataSources.map( createPulseSyntax ), componentID );\n  }\n\n  static requestWidgetData ( sourceName, startTime, endTime, freq ) {\n    MC.request( \"statd.output.query\"\n              , [ sourceName\n                , { start: startTime\n                  , end: endTime\n                  , frequency: freq\n                  }\n                ]\n              , function handleWidgetData ( rawWidgetData ) {\n                  SAC.receiveWidgetData( rawWidgetData, sourceName );\n                }\n              );\n  }\n\n};\n\nexport default StatdMiddleware;\n"]}