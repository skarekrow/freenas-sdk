{"version":3,"sources":["app/jsx/middleware/UsersMiddleware.js"],"names":[],"mappings":";;;;AAIA,YAAY,CAAC;;;;;;;;;;;;;;gCAEE,oBAAoB;;;;kCACV,sBAAsB;;;;0CAE/B,gCAAgC;;;;IAE1C,eAAe;WAAf,eAAe;0BAAf,eAAe;;;;;;;YAAf,eAAe;;eAAf,eAAe;;WAEF,mBAAE,WAAW,EAAG;AAC/B,oCAAG,SAAS,CAAE,CAAE,eAAe,CAAE,EAAE,WAAW,CAAE,CAAC;AACjD,oCAAG,SAAS,CAAE,CAAE,QAAQ,CAAE,EAAE,WAAW,CAAE,CAAC;KAC3C;;;WAEkB,qBAAE,WAAW,EAAG;AACjC,oCAAG,WAAW,CAAE,CAAE,eAAe,CAAE,EAAE,WAAW,CAAE,CAAC;AACnD,oCAAG,WAAW,CAAE,CAAE,QAAQ,CAAE,EAAE,WAAW,CAAE,CAAC;KAC7C;;;WAEuB,0BAAE,GAAG,EAAG;AAC9B,oCAAG,OAAO,CAAE,aAAa,EACX,GAAG,GACH,CAAC,CAAC,CAAE,IAAI,EAAE,IAAI,EAAE,GAAG,CAAE,CAAC,CAAC,GACvB,EAAE,EAEJ,SAAS,eAAe,CAAG,YAAY,EAAG;AACxC,gDAAI,gBAAgB,CAAE,YAAY,CAAE,CAAC;OACtC,CACF,CAAC;KACb;;;WAEiB,oBAAE,YAAY,EAAG;AACjC,oCAAG,OAAO,CAAE,aAAa,EACb,CAAE,cAAc,EAAG,CAAE,YAAY,CAAE,CAAE,EACrC,SAAS,gBAAgB,CAAG,MAAM,EAAE,MAAM,EAAG;AAC3C,gDAAI,qBAAqB,CAAE,MAAM,EAAE,MAAM,CAAE,CAAC;OAC7C,CACF,CAAC;KACb;;;WAEiB,oBAAE,MAAM,EAAE,YAAY,EAAG;AACzC,oCAAG,OAAO,CAAE,aAAa,EACb,CAAE,cAAc,EAAE,CAAE,MAAM,EAAE,YAAY,CAAE,CAAE,EAC5C,SAAS,gBAAgB,CAAG,MAAM,EAAG;AACnC,gDAAI,qBAAqB,CAAE,MAAM,EAAE,MAAM,CAAE,CAAC;OAC7C,CACF,CAAC;KACb;;;WAEiB,oBAAE,MAAM,EAAG;AAC3B,oCAAG,OAAO,CAAE,aAAa,EACb,CAAE,cAAc,EAAE,CAAE,MAAM,CAAE,CAAE,EAC9B,SAAS,gBAAgB,CAAG,MAAM,EAAE,MAAM,EAAG;AAC3C,gDAAI,qBAAqB,CAAE,MAAM,EAAE,MAAM,CAAE,CAAC;OAC7C,CACF,CAAC;KACb;;;SAjDG,eAAe;;;AAmDpB,CAAC;;qBAEa,eAAe","file":"app/jsx/middleware/UsersMiddleware.js","sourcesContent":["// Users Middleware\n// ================\n// Handle the lifecycle and event hooks for the Users channel of the middleware\n\n\"use strict\";\n\nimport MC from \"./MiddlewareClient\";\nimport AbstractBase from \"./MiddlewareAbstract\";\n\nimport UAC from \"../actions/UsersActionCreators\";\n\nclass UsersMiddleware extends AbstractBase {\n\n  static subscribe ( componentID ) {\n    MC.subscribe( [ \"users.changed\" ], componentID );\n    MC.subscribe( [ \"task.*\" ], componentID );\n  }\n\n  static unsubscribe ( componentID ) {\n    MC.unsubscribe( [ \"users.changed\" ], componentID );\n    MC.unsubscribe( [ \"task.*\" ], componentID );\n  }\n\n  static requestUsersList ( ids ) {\n    MC.request( \"users.query\"\n              , ( ids\n                ? [[[ \"id\", \"in\", ids ]]]\n                : []\n                )\n              , function handleUsersList ( rawUsersList ) {\n                  UAC.receiveUsersList( rawUsersList );\n                }\n              );\n  }\n\n  static createUser ( newUserProps ) {\n    MC.request( \"task.submit\"\n              , [ \"users.create\" , [ newUserProps ] ]\n              , function handleCreateUser ( taskID, userID ) {\n                  UAC.receiveUserUpdateTask( taskID, userID );\n                }\n              );\n  }\n\n  static updateUser ( userID, changedProps ) {\n    MC.request( \"task.submit\"\n              , [ \"users.update\", [ userID, changedProps ] ]\n              , function handleUpdateUser ( taskID ) {\n                  UAC.receiveUserUpdateTask( taskID, userID );\n                }\n              );\n  }\n\n  static deleteUser ( userID ) {\n    MC.request( \"task.submit\"\n              , [ \"users.delete\", [ userID ] ]\n              , function handleDeleteUser ( taskID, userID ) {\n                  UAC.receiveUserUpdateTask( taskID, userID );\n                }\n              );\n  }\n\n};\n\nexport default UsersMiddleware;\n"]}