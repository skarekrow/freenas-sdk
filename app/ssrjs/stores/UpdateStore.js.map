{"version":3,"sources":["app/jsx/stores/UpdateStore.js"],"names":[],"mappings":";;;AAGA,YAAY,CAAC;;;;sBAEC,QAAQ;;;;sBACO,QAAQ;;2CAEP,iCAAiC;;;;yCACnC,+BAA+B;;AAE3D,IAAI,YAAY,GAAG,QAAQ,CAAC;;AAE5B,IAAI,WAAW,GAAG,EAAE,CAAC;;AAErB,IAAI,WAAW,GAAG,oBAAE,MAAM,CAAE,EAAE,EAAE,QATvB,YAAY,CASwB,SAAS,EAAE;;AAEpD,YAAU,EAAE,oBAAS,UAAU,EAAE;AAC/B,QAAI,CAAC,IAAI,CAAE,YAAY,CAAE,CAAC;GAC3B;;AAED,mBAAiB,EAAE,2BAAU,QAAQ,EAAG;AACtC,QAAI,CAAC,EAAE,CAAE,YAAY,EAAE,QAAQ,CAAE,CAAC;GACnC;;AAED,sBAAoB,EAAE,8BAAU,QAAQ,EAAG;AACzC,QAAI,CAAC,cAAc,CAAE,YAAY,EAAE,QAAQ,CAAE,CAAC;GAC/C;;AAED,WAAS,EAAE,mBAAS,IAAI,EAAE;AACxB,WAAO,WAAW,CAAC,IAAI,CAAC,CAAC;GAC1B;;CAGJ,CAAC,CAAC;;AAEH,WAAW,CAAC,aAAa,GAAG,yCAAkB,QAAQ,CAAE,UAAU,OAAO,EAAG;AAC1E,MAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;;AAE5B,UAAQ,MAAM,CAAC,IAAI;;AAEjB,SAAK,2BAhCA,WAAW,CAgCC,mBAAmB;AAClC,iBAAW,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,MAAM,CAAC,UAAU,CAAC;AACvD,iBAAW,CAAC,UAAU,EAAE,CAAC;AACzB,YAAM;;AAAA,AAER,YAAQ;;GAET;CACF,CAAC,CAAC;;AAEH,MAAM,CAAC,OAAO,GAAG,WAAW,CAAC","file":"app/jsx/stores/UpdateStore.js","sourcesContent":["// Update Data Flux Store\n// ----------------\n\n\"use strict\";\n\nimport _ from \"lodash\";\nimport { EventEmitter } from \"events\";\n\nimport FreeNASDispatcher from \"../dispatcher/FreeNASDispatcher\";\nimport { ActionTypes } from \"../constants/FreeNASConstants\";\n\nvar CHANGE_EVENT = \"change\";\n\nvar _updateData = {};\n\nvar UpdateStore = _.assign( {}, EventEmitter.prototype, {\n\n    emitChange: function(changeType) {\n      this.emit( CHANGE_EVENT );\n    }\n\n  , addChangeListener: function( callback ) {\n      this.on( CHANGE_EVENT, callback );\n    }\n\n  , removeChangeListener: function( callback ) {\n      this.removeListener( CHANGE_EVENT, callback );\n    }\n\n  , getUpdate: function(name) {\n      return _updateData[name];\n    }\n\n\n});\n\nUpdateStore.dispatchToken = FreeNASDispatcher.register( function( payload ) {\n  var action = payload.action;\n\n  switch( action.type ) {\n\n    case ActionTypes.RECEIVE_UPDATE_DATA:\n      _updateData[action.updateInfoName] = action.updateInfo;\n      UpdateStore.emitChange();\n      break;\n\n    default:\n      // No action\n  }\n});\n\nmodule.exports = UpdateStore;\n"]}